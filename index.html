<!doctype html>
<html lang="mn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>For Amarjargal üíò</title>

  <!-- Nice font for Mongolian + English -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#ff9a9e;
      --bg2:#fad0c4;
      --card:#ffffffdd;
      --text:#222;
      --muted:#555;
      --accent:#ff4d6d;
      --accent2:#7c3aed;
      --shadow: 0 18px 45px rgba(0,0,0,.18);
      --radius:26px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Noto Sans', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height:100vh;
      overflow-x:hidden;
    }
    .wrap{max-width:1040px; margin:0 auto; padding:26px 18px 70px;}
    .hero{
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid #fff;
      box-shadow:var(--shadow);
      border-radius:var(--radius);
      padding:22px;
      overflow:hidden;
      position:relative;
    }
    .top{
      display:flex;
      gap:18px;
      align-items:center;
      flex-wrap:wrap;
    }
    .title{flex:1; min-width:260px;}
    h1{margin:0 0 8px; font-size:34px; letter-spacing:.2px}
    .subtitle{margin:0; color:var(--muted); font-size:16px; line-height:1.6}
    .avatars{
      display:flex; gap:12px; align-items:center;
    }
    .avatar{
      width:92px; height:92px;
      border-radius:999px;
      border:3px solid #fff;
      box-shadow:0 12px 28px rgba(0,0,0,.15);
      object-fit:cover;
      background:#fff;
    }
    .heartBadge{
      width:44px; height:44px;
      border-radius:999px;
      background:var(--accent);
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:22px;
      box-shadow:0 12px 28px rgba(0,0,0,.15);
      user-select:none;
    }

    .section{
      margin-top:18px;
      background:var(--card);
      border:1px solid #fff;
      border-radius:var(--radius);
      padding:18px;
      box-shadow: 0 14px 34px rgba(0,0,0,.12);
    }
    .section h2{margin:0 0 10px; font-size:20px; letter-spacing:.2px;}
    .section p{margin:10px 0; line-height:1.7}

    .pillRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .pill{
      border:none;
      padding:11px 14px;
      border-radius:999px;
      background:var(--accent);
      color:#fff;
      font-weight:800;
      cursor:pointer;
      transition:.2s;
    }
    .pill.secondary{background:#111; opacity:.92}
    .pill.soft{background:var(--accent2)}
    .pill:hover{transform: translateY(-1px) scale(1.02)}
    .note{
      margin-top:10px;
      padding:12px 14px;
      border-radius:18px;
      background:#fff;
      border:1px solid rgba(0,0,0,.06);
      color:var(--muted);
    }
    .tiny{font-size:13px; color:rgba(0,0,0,.55); margin-top:8px}

    /* Timeline */
    .timeline{display:grid; grid-template-columns: 1fr; gap:12px; margin-top:10px;}
    .event{
      display:flex;
      gap:14px;
      padding:14px;
      border-radius:22px;
      background:#fff;
      border:1px solid rgba(0,0,0,.06);
      align-items:center;
      flex-wrap:wrap;
    }
    .event img{
      width:150px; height:100px;
      object-fit:cover;
      border-radius:18px;
      box-shadow:0 10px 22px rgba(0,0,0,.12);
      background:#f3f3f3;
      cursor:pointer;
    }
    .event .meta{flex:1; min-width:220px;}
    .event .meta b{font-size:16px}
    .event .meta div{color:var(--muted); margin-top:4px; line-height:1.5}

    /* Scroll reveal */
    .reveal{opacity:0; transform: translateY(18px); transition: opacity .65s ease, transform .65s ease;}
    .reveal.show{opacity:1; transform: translateY(0);}

    /* Modal */
    .modal{
      position:fixed; inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      background: rgba(0,0,0,.35);
      z-index:50;
    }
    .modal.open{display:flex}
    .modalCard{
      width:min(760px, 100%);
      background:#fff;
      border-radius:26px;
      padding:16px;
      box-shadow:0 18px 60px rgba(0,0,0,.35);
    }
    .modalTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:6px 6px 12px;
    }
    .x{
      border:none; background:#111; color:#fff;
      border-radius:999px; width:38px; height:38px;
      cursor:pointer; font-size:18px;
    }
    .modalImg{
      width:100%;
      max-height:56vh;
      object-fit:cover;
      border-radius:20px;
      background:#f3f3f3;
    }
    .modalText{padding:10px 6px 2px; color:var(--muted); line-height:1.7}

    /* Floating hearts */
    .float{position:fixed; left:0; top:0; pointer-events:none; z-index:1;}
    .float span{position:absolute; animation: rise 6s linear forwards; opacity:.92;}
    @keyframes rise{from{ transform: translateY(110vh); opacity:1 } to{ transform: translateY(-15vh); opacity:0 }}

    /* Slideshow */
    .slideshow{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      margin-top:10px;
    }

    /* ‚úÖ CHANGED: slideshow image is now SQUARE */
    .slideshow img{
      width:min(380px, 90vw);
      aspect-ratio: 1 / 1;
      height:auto;
      object-fit:cover;
      border-radius:22px;
      box-shadow:0 16px 36px rgba(0,0,0,.18);
      background:#f3f3f3;
      transition: opacity .4s ease;
    }

    .navBtn{
      border:none;
      width:48px; height:48px;
      border-radius:999px;
      background:#111;
      color:#fff;
      font-size:26px;
      cursor:pointer;
      opacity:.92;
    }
    .navBtn:hover{transform: scale(1.04)}

    /* Travel cards */
    .travelGrid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:12px;
      margin-top:12px;
    }
    @media (max-width: 920px){
      .travelGrid{grid-template-columns: repeat(2, minmax(0, 1fr));}
    }
    @media (max-width: 560px){
      .travelGrid{grid-template-columns: 1fr;}
    }
    .travelCard{
      background:#fff;
      border:1px solid rgba(0,0,0,.06);
      border-radius:22px;
      padding:12px;
      box-shadow:0 12px 26px rgba(0,0,0,.10);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .travelCard img{
      width:100%;
      height:160px;
      object-fit:cover;
      border-radius:18px;
      background:#f3f3f3;
      cursor:pointer;
    }
    .travelTitle{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .travelTitle b{font-size:16px}
    .tag{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(124, 58, 237, .12);
      color: #4c1d95;
      font-weight:700;
      white-space:nowrap;
    }
    .travelDesc{color:var(--muted); line-height:1.55; font-size:14px}

    /* Music section range styling */
    #musicSection input[type="range"]{ accent-color: var(--accent); }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="hero">
      <div class="top">
        <div class="title">
          <h1>–ó”©–≤—Ö”©–Ω –ê–º–∞—Ä–∞–∞–¥ –∑–æ—Ä–∏—É–ª–∞–≤ üíò</h1>
          <p class="subtitle">
            –≠–Ω—ç website-—ã–≥ <b>–∑”©–≤—Ö”©–Ω —á–∞–º–¥</b>........
            –û–π—Ä–¥ —è–∞–≥–∞–∞–¥ —á–∞—Ç –±–∏—á–∏—Ö–≥“Ø–π –±–∞–π–Ω–∞ –∞–∞ –≥—ç–∂ –±–æ–¥—Å–æ–Ω —É—É? –ö–æ–¥ –±–∏—á—ç—ç–¥ –∑–∞–≤–≥“Ø–π –±–∞–π–ª–∞–∞ —à“Ø“Ø –¥—ç—ç‚ú®‚ú®‚ú®
          </p>
        </div>

        <div class="avatars" aria-label="Our photos">
          <img class="avatar" src="me.jpg" alt="My photo">
          <div class="heartBadge" title="us">üíû</div>
          <img class="avatar" src="amar.jpg" alt="Amarjargal photo">
        </div>
      </div>

      <div class="pillRow">
        <button class="pill" onclick="startJourney()">–¶–∞–≥ —Ö—É–≥–∞—Ü–∞–∞–≥–∞–∞—Ä –∞—è–ª—Ü–≥–∞–∞—è ‚ú®</button>
        <button class="pill soft" onclick="showCourageNote()">–•”©”©—Ä—Ö”©–Ω “Ø–≥—Å üíú</button>
        <button class="pill secondary" onclick="cockroachStory()">–ñ–æ–æ–º ü™≥üòÇ</button>
      </div>

      <div id="heroNote" class="note" style="display:none;"></div>
      <div class="tiny">–ñ–∏–∂–∏–≥—Ö—ç–Ω –∑”©–≤–ª”©–≥”©”©: —è–º–∞—Ä —á –∑—É—Ä–∞–≥ –¥—ç—ç—Ä –¥–∞—Ä–≤–∞–ª —Ç–æ–º–æ–æ—Ä –Ω—ç—ç–≥–¥—ç–Ω—ç ‚ú®</div>
    </div>

    <!-- MUSIC (Advanced) -->
    <div class="section" id="musicSection">
      <h2>üéµ –ó”©–≤—Ö”©–Ω —á–∞–º–¥ –∑–æ—Ä–∏—É–ª—Å–∞–Ω –¥—É—É</h2>
      <p>
        Play –¥–∞—Ä–∂ –¥—É—É–≥–∞–∞ —Ç–æ–≥–ª—É—É–ª–Ω–∞ —à“Ø“Ø üíò (browser autoplay-–≥ —Ö–∞–∞–¥–∞–≥ –±–æ–ª–æ—Ö–æ–æ—Ä).
        –î—É—É–≥–∞–∞ —Ç–æ–≥–ª—É—É–ª–∞–∞–¥ —Ü–∞–≥ —Ö—É–≥–∞—Ü–∞–∞–≥–∞–∞—Ä –∞—è–ª—Ü–≥–∞–∞—è ‚ú®
      </p>

      <div class="pillRow">
        <button class="pill" id="playBtn" onclick="toggleMusic()">Play ‚ñ∂</button>
        <button class="pill soft" id="muteBtn" onclick="toggleMute()">Mute üîá</button>
        <button class="pill secondary" onclick="restartSong()">Restart ‚ü≤</button>
      </div>

      <div class="note">
        <div style="display:flex; justify-content:space-between; gap:10px; align-items:center; flex-wrap:wrap;">
          <div>
            <b id="songState">Paused üôÇ</b>
            <div class="tiny" id="timeLabel">00:00 / 00:00</div>
          </div>

          <div style="display:flex; gap:10px; align-items:center;">
            <span class="tiny">Volume</span>
            <input id="vol" type="range" min="0" max="1" step="0.01" value="0.7" style="width:170px;">
          </div>
        </div>

        <div style="margin-top:12px;">
          <input id="seek" type="range" min="0" max="1000" step="1" value="0" style="width:100%;">
          <div class="tiny">–î—É—É–≥–∞–∞ —É—Ö—Ä–∞–∞–∂ –±–æ–ª–Ω–æ —à“Ø“Ø üòå</div>
        </div>

        <div class="tiny" style="margin-top:10px;">
          üí° Tip: –Æ—É–Ω –¥—ç—ç—Ä —á –¥–∞—Ä—Å–∞–Ω –¥—É—É —Ç–æ–≥–ª–æ–≥–¥–æ—Ö–æ–æ—Ä –∫–æ–¥–æ–ª—Å–æ–Ω –±–∞–π—Ö–∞–∞ —Ö–∞—Ö–∞.
        </div>
      </div>

      <audio id="bgm" preload="metadata" loop>
        <source src="music.mp3" type="audio/mpeg">
      </audio>
    </div>

    <!-- SLIDESHOW + JPG -->
    <div class="section">
      <h2>üñºÔ∏è Mini photo slideshow</h2>
      <p>–ó–∞—Ä–∏–º –º”©—á“Ø“Ø–¥–∏–π–≥ –¥–∞—Ö–∏–Ω –¥–∞—Ö–∏–Ω “Ø–∑–º—ç—ç—Ä –±–∞–π–¥–∞–≥ —à“Ø“Ø üòå</p>

      <div class="slideshow">
        <button class="navBtn" onclick="prevSlide()" aria-label="Previous slide">‚Äπ</button>
        <img id="slideImg" src="slide1.jpg" alt="Slideshow image">
        <button class="navBtn" onclick="nextSlide()" aria-label="Next slide">‚Ä∫</button>
      </div>
      <div class="tiny" id="slideCaption">Slide 1</div>

      <div style="margin-top:12px;">
        <img src="roach.jpg" alt="Funny jpg" style="max-width:170px; border-radius:18px; display:none;" id="roachjpg">
        <div class="tiny">P.S. –≠–Ω—ç —á —ë—Å—Ç–æ–π –∞–π–º–∞–∞–∞–∞—Ä –∑—É—Ä–∞–≥ —à“Ø“Ø üò≠ü™≥</div>
        <button class="pill secondary" onclick="togglejpg()">Show/Hide cockroach ü™≥üòÇ</button>
      </div>
    </div>

    <!-- TRAVEL PICKER -->
    <div class="section" id="travelSection">
      <h2>üß≥ –•–∞–∞—à–∞–∞ —è–≤–º–∞–∞—Ä –±–∞–π–Ω–∞?</h2>
      <p>
        –•–∞–º—Ç–¥–∞–∞ –∞—è–ª–∞—Ö–∞–¥ —ç–Ω—ç –¥—ç–ª—Ö–∏–π —Ö—ç—Ç—ç—Ä—Ö–∏–π –∂–∏–∂–∏–≥—Ö—ç–Ω —é–º üíò
        <br/>–ë“Ø–≥–¥–∏–π–≥ –Ω—å —Å–æ–Ω–≥–æ—Å–æ–Ω —á –±–æ–ª–Ω–æ üò≥‚ú®
      </p>

      <div class="travelGrid" id="travelGrid"></div>
      <div id="travelChoice" class="note">Pick a city üíñ</div>
    </div>

    <!-- TIMELINE -->
    <div class="section" id="timelineSection">
      <h2>üìñ –≠—Ä–≥—ç–Ω –¥—É—Ä—Å–∞—Ü–≥–∞–∞—è</h2>
      <p>–ê–Ω—Ö —É—É–ª–∑—Å–∞–Ω ”©–¥—Ä”©”©—Å ”©–Ω”©”©–¥—Ä–∏–π–≥ —Ö“Ø—Ä—Ç—ç–ª üíó</p>
      <div class="timeline" id="timeline"></div>
    </div>

    <!-- COURAGE NOTES -->
    <div class="section">
      <h2>üìù –•—ç–ª–º—ç—ç—Ä –±–∞–π–≥–∞–∞ –∑“Ø–π–ª—Å</h2>
      <p>“Æ–≥—Å –±–æ–ª–≥–æ–Ω–¥ —Å—ç—Ç–≥—ç–ª —à–∏–Ω–≥—ç—Å—ç–Ω —É—á–∏—Ä –≥–∞–º—Ç–∞–π —É–Ω—à–∞–∞—Ä–∞–π üíú</p>
      <div class="pillRow">
        <button class="pill" onclick="randomNote()">–ù—ç–≥—ç—ç—Ä –Ω—å —É–Ω—à–∏—Ö üå∑</button>
        <button class="pill soft" onclick="allNotes()">–ë“Ø–≥–¥–∏–π–≥ –Ω—å —É–Ω—à–∏—Ö üìö</button>
      </div>
      <div id="notesBox" class="note">Click a button above üíñ</div>
    </div>

    <!-- NEXT CHAPTER -->
    <div class="section">
      <h2>üå∏ Next chapter?</h2>
      <p>
        –•—ç—Ä–≤—ç—ç —á–∏ —Ö“Ø—Å–≤—ç–ª‚Ä¶ —à–∏–Ω—ç –¥—É—Ä—Å–∞–º–∂ –±“Ø—Ç—ç—ç–∂ –±–æ–ª–æ—Ö —é–º ‚òï‚ú®
        (–¢—ç–≥—ç—ç–¥ —ç–Ω—ç –≤–µ–± –¥—ç—ç—Ä ‚Äú—à–∏–Ω—ç –∑—É—Ä–∞–≥‚Äù –Ω—ç–º—Ü–≥—ç–µ üòå)
      </p>
      <div class="pillRow">
        <button class="pill" onclick="nextChapterYes()">If you say yes‚Ä¶ üò≥</button>
        <button class="pill secondary" onclick="nextChapterNo()">If you say no‚Ä¶ üôà</button>
      </div>
      <div id="nextBox" class="note" style="display:none;"></div>
    </div>
  </div>

  <!-- IMAGE MODAL -->
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-label="Image preview">
    <div class="modalCard">
      <div class="modalTop">
        <b id="modalTitle">Memory</b>
        <button class="x" onclick="closeModal()" aria-label="Close">‚úï</button>
      </div>
      <img id="modalImg" class="modalImg" alt="Preview"/>
      <div id="modalText" class="modalText"></div>
    </div>
  </div>

  <div class="float" id="float"></div>

  <script>
    // ========= DATA YOU CAN EDIT =========

    // Timeline (edit titles/text to your real memories)
    const EVENTS = [
      { month: "September", img: "sep.jpg", title: "–ê–Ω—Ö–Ω—ã —Å—ç—Ç–≥—ç–≥–¥—ç–ª üå±", text: "–ê–Ω—Ö–Ω—ã —Å—ç—Ç–≥—ç–≥–¥—ç–ª –±–æ–ª –∞—è–≥“Ø–π —Ö”©”©—Ä—Ö”©–Ω—à–¥. –•–∏–π–∂ –±–∞–π–≥–∞–∞ “Ø–π–ª–¥—ç–ª, —è—Ä—å–∂ –±–∞–π–≥–∞–∞ –∑“Ø–π–ª. –Ø–ª–∞–Ω–≥—É—è–∞ —Ç—ç—Ä –≥–∞—Ä–≥–∞–∂ –±—É–π reaction –Ω—å –±“Ø—Ä –ª..." },
      { month: "October",    img: "oct.jpg", title: "Crown –ê–º–∞—Ä–∞–∞ ‚ú®", text: "Crown –ê–º–∞—Ä–∞–∞–≥–∏–π–Ω –∞—Ä–¥ —Å—É—É—Ö –±–æ–ª –∑“Ø–≥—ç—ç—Ä –ª –∞–π–¥–∞—Å —Ö“Ø–π–¥—ç—Å —Ö–∞—Ö–∞. –•–∞—Ä–∏–Ω —Ö—É–≤–∏–π–Ω –∂–æ–ª–æ–æ—á —Ö–∏–π—Ö –Ω—å –º–∏–Ω–∏–π —Ö—É–≤—å–¥ –Ω—ç—Ä —Ç”©—Ä–∏–π–Ω —Ö—ç—Ä—ç–≥ –±–∞–π—Å–∞–Ω —à“Ø“Ø. ”®–¥”©—Ä –±–æ–ª–≥–æ–Ω —á–∞–º–∞–π–≥ —Ö“Ø—Ä–≥—ç–∂ ”©–≥”©—Ö –∑–æ—Ä–∏–ª–≥–æ—Ç–æ–π —Å—ç—Ä—ç—Ö –∂–∏—à—ç—ç–Ω–∏–π —Ö–∞—Ö–∞." },
      { month: "November",   img: "nov.jpg", title: "“Æ–ª –æ–π–ª–≥–æ–ª—Ü–ª—É—É–¥ üòÑ", text: "–ú—ç–¥—ç—ç–∂ —Ö“Ø–Ω –±–æ–ª–≥–æ–Ω–¥ –ª “Ø–ª –æ–π–ª–≥–æ–ª—Ü–æ–ª –±–∞–π–¥–∞–≥. –ì—ç–≤—á —á–∞–º—Ç–∞–π “Ø“Ø—Å—Å—ç–Ω –Ω—å –∞—Ä–∞–π ”©”©—Ä –±–∞–π—Å–∞–Ω. –Ø–∞–≥–∞–∞–¥ —á —é–º –º–∏–Ω–∏–π—Ö –±–∏—à —á–∞–º–∞–π–≥ —Ö–∞—Ä–∞–º–ª–∞—Ö ”©”©—Ä–∏–π–≥”©”© –∑–æ–≥—Å–æ–æ–∂ —á–∞–¥–∞–∞–≥“Ø–π. “Æ–Ω—ç—Ö—ç—ç—Ä –∞–ª–±–∞–∞—Ä —Ç—ç–≥—ç—ç–¥ –±–∞–π–¥–≥–∏–π–≥ –Ω—å –º—ç–¥—ç—Ö–≥“Ø–π —á. –î–∞—Ö–∏–∂ –±–∏—Ç–≥–∏–π —Ç—ç–≥—ç—ç—á." },
      { month: "December",   img: "dec.jpg", title: "–ì–∞–¥–∞–∞ —Ö“Ø–π—Ç—ç–Ω —á —Å—ç—Ç–≥—ç–ª–¥ –¥—É–ª–∞–∞—Ö–∞–Ω ‚ùÑÔ∏è", text: "–ì–∞–¥–∞–∞ —Ü–∞—Å –æ—Ä–æ–æ–¥ –ª, –Ω”©–≥”©”© —Ü–∞—Å –Ω—å —è–∞—Å–∞–Ω —á —Å–∞–π—Ö–∞–Ω —Ö—ç–ª–±—ç—Ä—Ç –æ—Ä–¥–æ–≥ —é–º. –ù“Ø“Ø—Ä–∏–π–≥ —á–∏–Ω—å —É–≥–∞–∞—á–∏—Ö—ä—è –≥—ç—Ö—ç—ç—Ä —Ö–∞–Ω–∏–∞–¥ —Ö“Ø—Ä—á–∏—Ö—Å—ç–Ω –±–∞–π–≥–∞–∞–¥ –±–∞–π–¥–∞–≥. –ó–∞ —è–∞—Ö–∞–≤ –≥—ç—ç–¥ —ç—Ä–≥—ç–∂ —Ö–∞—Ä–∞—Ö–ª–∞–∞—Ä –∞—Ä–¥–∞–∞—Å —Ü–∞—Å —à–∏–¥—ç—ç—Å—Ç—ç–π. –ì–∞–¥–∞–∞ —Ö“Ø–π—Ç—ç–Ω —á, —Å—ç—Ç–≥—ç–ª–¥ –¥—É–ª–∞–∞—Ö–∞–Ω ”©–¥—Ä“Ø“Ø–¥ –±–∞–π—Å–∞–Ω —à“Ø“Ø." },
      { month: "January",    img: "jan.jpg", title: "–•–∞–≥–∞—Ü–∞–∂ —á–∞–¥–∞—Ö–≥“Ø–π –Ω—å –ª –≥—ç–∂ –±–æ–¥—Å–æ–Ω üí≠", text: "–ë“Ø—Ö –∑“Ø–π–ª –∞—è–≥“Ø–π —Ö”©”©—Ä—Ö”©–Ω –±–æ–ª–∂ –±–∞–π—Ö–∞–¥ —è–≤–∞–∞–¥ ”©–≥—á–∏—Ö”©–∂ –±–∞–π–≥–∞–∞ —é–º –¥–∞–∞. –ì—ç—Ö–¥—ç—ç —è–∞—Ö–∞–≤, –¥–∞—Ö–∏–∞–¥ —É—É–ª–∑–∞—Ö–∞–∞ –º—ç–¥—ç–∂ –±–∞–π—Å–∞–Ω —á –∏–π–º —Å–æ–Ω–∏–Ω –º—ç–¥—Ä—ç–º–∂ –∞–≤—Å–∞–Ω ”©”©—Ä–∏–π–≥”©”© –≥–∞–π—Ö–∞—Ö..." },
      { month: "Now",        img: "now.jpg", title: "”®–Ω”©”©–¥”©—Ä üíò", text: "–ó–∞–≤–≥“Ø–π ”©–¥”©—Ä —Ö–æ–Ω–æ–≥—É—É–¥ –∞—Ä–¥ –∞—Ä–¥–∞–∞—Å–∞–∞ —Ö”©–≤”©—Ä—Å”©”©—Ä. –•—É—Ä–¥–∞–Ω –±—É—Ü–∞—Ö —é–º—Å–∞–Ω –≥—ç—Ö –±–æ–¥–ª—ã–≥ –º–∏–Ω—å —á–∏–Ω–∏–π story-–Ω—É—É–¥ boost-–ª—ç—Ö —à–∏–≥ üò≥" }
    ];

    // Courage notes
    const COURAGE_NOTES = [
      "–Ø–≥ “Ø–Ω—ç–Ω–¥—ç—ç —Ö—ç–Ω–∏–π —é—É –≥—ç–∂ —Ö—ç–ª—ç—Ö —Ö—ç–Ω–¥ —Ö–∞–º–∞–∞—Ç–∞–π —é–º –±—ç? –¢–∏–π–º –±–∏–∑–¥—ç—ç. –ó“Ø–≥—ç—ç—Ä –ª ”©”©—Ä–∏–π–Ω—Ö”©”©—Ä”©”© –±–∞–π—Ö–∞–¥ –ª –∏–π–º —Ö”©”©—Ä—Ö”©–Ω –æ—Ö–∏–Ω –±–∞–π–≥–∞–∞–¥ –±–∞–π–≥–∞–∞–º —á–∏–Ω—å, ”©”©—Ä —é—É —Ö—ç—Ä—ç–≥—Ç—ç–π –≥—ç–∂.",
      "–•–∏—á—ç—ç–ª–∏–π–Ω —Ö—É–≤—å–¥ –±–∏—Ç–≥–∏–π —Å–∞–Ω–∞–∞ –∑–æ–≤–æ–æ—Ä–æ–π. –ë“Ø—Ö–Ω–∏–π–≥ –±–æ–ª–≥–æ–Ω–æ, –±“Ø–≥–¥–∏–π–≥ —á–∞–¥–Ω–∞ –≥—ç–¥—ç–≥ –æ—Ö–∏–Ω–¥ —ç–Ω—ç –º—ç—Ç –±–æ–ª —é—É —á –±–∏—à. –•—ç—Ä—ç–≤ —Ç—É—Å–ª–∞–º–∂ —Ö—ç—Ä—ç–≥—Ç—ç–π –±–æ–ª –±–∏ –±–∞–π–Ω–∞ —à“Ø“Ø–¥—ç—ç. call me baby +86 15842661726, +976 66167467",
      "–ù—ç–≥ –∑”©–≤–ª”©–≥”©”© ”©–≥”©—Ö”©–¥: –•”©”©—Ä—Ö–Ω”©”© –≥—ç–∂ –¥—É—É–¥—É—É–ª–∂ —Å—É—Ä–∞—Ö–¥–∞–∞ –¥–∞—Å–∞—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π —à“Ø“Ø —Ö–∞—Ö–∞.",
      "–ú—ç–¥—ç—ç–∂ —Ö—ç—Ü“Ø“Ø —Ü–∞–≥ “Ø–µ“Ø“Ø–¥ –±–æ–ª–∂ ”©–Ω–≥”©—Ä–ª”©”©, —ç–Ω—ç –±“Ø—Ö–Ω–∏–π–≥ –¥–∞–≤–∂ –≥–∞—Ä—Å–∞–Ω –Ω—å —á–∞–º–∞–π–≥ —è–º–∞—Ä –º—É–Ω–¥–∞–≥, —Å—ç—Ç–≥—ç–ª–∏–π–Ω —Ö–∞—Ç—Ç–∞–π, —Ç–æ–º –±–æ–ª—Å–æ–Ω –æ—Ö–∏–Ω –±—ç –≥—ç–¥–≥–∏–π–≥ —Ö–∞—Ä—É—É–ª–∂ –±–∞–π–≥–∞–∞ —é–º.",
      "–•–∞—Ä—Ü —á–∏–Ω—å —Ö–∞–º–≥–∏–π–Ω —Ö–∞–π—Ä —Ç–∞—Ç–∞–º –≥—ç–¥–≥–∏–π–≥ –º—ç–¥—ç—Ö “Ø“Ø? –°–æ—Ä–º—É—É—Å–∞–∞ –¥–∞–∞–∂ —è–¥–∞—Ö –Ω“Ø–¥–Ω–∏–π —á–∏–Ω—å —Å–µ–∫—É–Ω–¥ –±–æ–ª–≥–æ–Ω –Ω–∞–º–∞–π–≥ –∏–ª“Ø“Ø –∏—Ö —Ö–∏—á—ç—ç—Ö—ç–¥ —Ö“Ø—Ä–≥—ç–¥—ç–≥ —é–º —à“Ø“Ø.",
      "–Ø–º–∞—Ä —Ö“Ø–º“Ø“Ø–∂–∏–ª—Ç—ç–π –æ—Ö–∏–Ω –±—ç –≥—ç–∂ –±–æ–¥–æ–∂ –±–∏–ª—ç—ç. –î–∞—Ä–∞–∞ –Ω—å –º—ç—Ä–≥—ç–∂–ª–∏–π–≥ –Ω—å —Å–æ–Ω—Å–æ–æ–¥ —è–º–∞—Ä —É—Ö–∞–∞–Ω—Ç–∞–π –æ—Ö–∏–Ω –±—ç –≥—ç–∂ –±–æ–¥–æ–∂ –±–∏–ª—ç—ç. –ß–∏ –∑“Ø–≥—ç—ç—Ä –ª —Ö–∞–º–≥–∏–π–Ω best –Ω—å."
    ];

    // Slideshow
    const slides = [
      {src:"slide1.jpg", cap:"Slide 1 ‚Äî (–≠–Ω—ç —Ö–æ—ë—Ä –º–∞–∞–Ω—å –º”©–Ω —á –∏—Ö –∑“Ø–π–ª —Ö—ç–ª–¥—ç–≥–¥—ç—ç. –ñ–∏–Ω—Ö—ç–Ω—ç –º–∏–Ω–∏–π —Ö”©–ª–¥“Ø“Ø–≥ –≥—ç—Å–≥—ç—ç—Ö –≥—ç–∂ —è–¥–∞–∂ –±–∞–π–≥–∞–∞ —à“Ø“Ø —Ö–∞—Ö–∞.)"},
      {src:"slide2.jpg", cap:"Slide 2 ‚Äî (–≠–Ω—ç —Ö—ç–¥ —è–≥ –ª –∞–∑—ã–Ω —à–æ–æ –º—ç—Ç. –≠–Ω—ç —à–æ–æ–Ω—É—É–¥—ã–Ω –∞—á–∞–∞—Ä –ª –∂–æ–æ—Ö–æ–Ω —á –≥—ç—Å—ç–Ω —Å—ç—Ç–≥—ç–ª–∏–π–≥ —á–∏–Ω—å –æ–π–ª–≥–æ–∂ –∞–≤—Å–∞–Ω –≥—ç–∂ –±–æ–¥–¥–æ–≥–¥–æ–æ.)"},
      {src:"slide3.jpg", cap:"Slide 3 ‚Äî (–Æ–º –∏–¥—ç—Ö —á –∑–∞–≤–≥“Ø–π —Ö”©”©—Ä—Ö”©–Ω –æ—Ö–∏–Ω–¥ –±—ç–ª—ç–≥ —Ö–∞–π–∂ –±–∏–ª—ç—ç. –≠–Ω—ç —Ö–æ—ë—Ä —Ö”©”©—Ä—Ö–Ω”©”© —è–≥ —Ö–æ—ë—É–ª–∞–Ω —à–∏–≥ –±–∏—à –±–∞–π—Å–∞–Ω –≥—ç–∂ “Ø“Ø —Ö–∞—Ö–∞.)"}
    ];

    // Travel choices (China cities + Seoul + Bangkok)
    const TRAVELS = [
      { id:"beijing",  country:"China",  tag:"History",     city:"Beijing",   img:"beijing.jpg",  text:"Great Wall + forbidden city vibes üèØ" },
      { id:"shanghai", country:"China",  tag:"City lights", city:"Shanghai",  img:"shanghai.jpg", text:"Skylines, night walk, cute photos üåÉ" },
      { id:"chengdu",  country:"China",  tag:"Chill",       city:"Chengdu",   img:"chengdu.jpg",  text:"Pandas + spicy food + slow days üêºüå∂Ô∏è" },
      { id:"hangzhou", country:"China",  tag:"Romantic",    city:"Hangzhou",  img:"hangzhou.jpg", text:"West Lake + calm, dreamy ÎäêÎÇå üåø" },
      { id:"seoul",    country:"Korea",  tag:"K-vibe",      city:"Seoul",     img:"seoul.jpg",    text:"Caf√©s + night views + shopping üòå‚ú®" },
      { id:"bangkok",  country:"Thailand", tag:"Fun",       city:"Bangkok",   img:"bangkok.jpg",  text:"Street food + temples + chaos-but-fun üåà" }
    ];

    // ========= ELEMENTS =========
    const timelineEl = document.getElementById("timeline");
    const modal = document.getElementById("modal");
    const modalImg = document.getElementById("modalImg");
    const modalTitle = document.getElementById("modalTitle");
    const modalText = document.getElementById("modalText");
    const float = document.getElementById("float");

    // Slideshow
    let slideIndex = 0;
    const slideImg = document.getElementById("slideImg");
    const slideCaption = document.getElementById("slideCaption");

    // Travel
    const travelGrid = document.getElementById("travelGrid");
    const travelChoice = document.getElementById("travelChoice");
    let chosenTravelId = null;

    // ========= HELPERS =========
    function showHero(text){
      const box = document.getElementById("heroNote");
      box.style.display = "block";
      box.textContent = text;
    }

    function popHearts(count){
      for(let i=0;i<count;i++){
        const s = document.createElement("span");
        s.textContent = ["üíó","üíñ","üíò","üíû"][Math.floor(Math.random()*4)];
        s.style.left = Math.random()*100 + "vw";
        s.style.fontSize = (18 + Math.random()*22) + "px";
        s.style.animationDuration = (4.5 + Math.random()*2.5) + "s";
        float.appendChild(s);
        setTimeout(() => s.remove(), 7000);
      }
    }

    // ========= MODAL =========
    function openModal(title, img, text){
      modalTitle.textContent = title;
      modalImg.src = img;
      modalImg.alt = title;
      modalText.textContent = text || "";
      modal.classList.add("open");
      popHearts(8);
    }
    function closeModal(){ modal.classList.remove("open"); }
    modal.addEventListener("click", (ev) => { if(ev.target === modal) closeModal(); });

    // ========= TIMELINE =========
    function renderTimeline(){
      timelineEl.innerHTML = "";
      EVENTS.forEach((e) => {
        const card = document.createElement("div");
        card.className = "event reveal";
        card.innerHTML = `
          <img src="${e.img}" alt="${e.month} memory" />
          <div class="meta">
            <b>${e.month} ‚Äî ${e.title}</b>
            <div>${e.text}</div>
          </div>
          <button class="pill soft" style="padding:10px 12px" type="button">Open</button>
        `;
        const imgEl = card.querySelector("img");
        const btnEl = card.querySelector("button");
        imgEl.addEventListener("click", () => openModal(`${e.month} ‚Äî ${e.title}`, e.img, e.text));
        btnEl.addEventListener("click", () => openModal(`${e.month} ‚Äî ${e.title}`, e.img, e.text));
        timelineEl.appendChild(card);
      });

      setupReveal();
    }

    function setupReveal(){
      const items = document.querySelectorAll(".reveal");
      const obs = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting) e.target.classList.add("show");
        });
      }, { threshold: 0.15 });
      items.forEach(i => obs.observe(i));
    }

    // ========= HERO BUTTONS =========
    function startJourney(){
      document.getElementById("timelineSection").scrollIntoView({behavior:"smooth"});
      popHearts(16);
      showHero("–ó–∞ üò≥‚ú® –Ω—ç–≥ –Ω—ç–≥—ç—ç—Ä –Ω—å –±—É—Ü–∞–∞–¥ –∞—è–ª—ä—è. –ß–∏ –º–∏–Ω–∏–π ”©–¥—Ä–∏–π–≥ –∏–ª“Ø“Ø –æ–Ω—Ü–≥–æ–π –±–æ–ª–≥–æ—Å–æ–Ω —à“Ø“Ø üíñ");
    }

    function showCourageNote(){
      const n = COURAGE_NOTES[Math.floor(Math.random()*COURAGE_NOTES.length)];
      popHearts(10);
      showHero("–ß–∞–º–¥ –∑–æ—Ä–∏—É–ª—Å–∞–Ω –∑–æ—Ä–∏–≥: ‚Äú" + n + "‚Äù üíú");
    }

    function cockroachStory(){
      popHearts(14);
      const travelBit = chosenTravelId ? `–î–∞—Ä–∞–∞ –Ω—å —Ö–∞–º—Ç ${getTravelName(chosenTravelId)} —Ä—É—É —è–≤–±–∞–ª‚Ä¶ –Ω–∞–º–∞–π–≥ –∂–æ–æ–º–æ–æ—Ä –±“Ø“Ø –∞–π–ª–≥–∞–∞—Ä–∞–π üò≠ü™≥` : "–ù–∞–º–∞–π–≥ –∂–æ–æ–º–æ–æ—Ä –±“Ø“Ø –∞–π–ª–≥–∞–∞—Ä–∞–π üò≠ü™≥";
      showHero("–ú–∞—à —á—É—Ö–∞–ª –º—ç–¥—ç–≥–¥—ç–ª ü™≥üòÇ: –ë–∏ –∂–æ–æ–º–Ω–æ–æ—Å –∞–π–¥–∞–≥‚Ä¶ —Ö–∞—Ä–∏–Ω —á–∏ –Ω–∞–º–∞–π–≥ –∞–π–ª–≥–∞—Ö–¥–∞–∞ “Ø–Ω—ç—Ö—ç—ç—Ä –º—É–Ω–¥–∞–≥ üò≠ –ì—ç—Ö–¥—ç—ç –æ–¥–æ–æ –±–æ–¥–æ—Ö–æ–¥ –∏–Ω—ç—ç–¥—Ç—ç–π –¥—É—Ä—Å–∞–º–∂ –±–æ–ª—Å–æ–Ω. " + travelBit);
    }

    // ========= COURAGE NOTES =========
    function randomNote(){
      const n = COURAGE_NOTES[Math.floor(Math.random()*COURAGE_NOTES.length)];
      document.getElementById("notesBox").textContent = "üíú " + n;
      popHearts(8);
    }
    function allNotes(){
      document.getElementById("notesBox").innerHTML =
        "üíñ " + COURAGE_NOTES.map(x => "‚Ä¢ " + x).join("<br/>");
      popHearts(10);
    }

    // ========= NEXT CHAPTER =========
    function nextChapterYes(){
      const box = document.getElementById("nextBox");
      box.style.display = "block";
      const chosen = chosenTravelId ? ` –ë–∏–¥–Ω–∏–π –∞—è–ª–∞–ª: ${getTravelName(chosenTravelId)} üß≥üíò` : "";
      box.textContent = "–Ø–∞–≥–∞–∞–¥ —á —é–º —ç–Ω–∏–π–≥ —Å–æ–Ω–≥–æ—Ö–≥“Ø–π –±–∞–π—Ö –≥—ç–∂ –±–æ–¥–æ–∂ –±–∞–π–ª–∞–∞üò≠üíñ –ó–∞ —Ç—ç–≥–≤—ç–ª‚Ä¶   –•—ç–∑—ç—ç –∑–∞–≤—Ç–∞–π –≤—ç? –Æ—É —á —Ö–∏–π—Ö–≥“Ø–π –∞–ª—Ö–∞—Ö —É—É?‚ú®" + chosen;
      popHearts(18);
    }
    function nextChapterNo(){
      const box = document.getElementById("nextBox");
      box.style.display = "block";
      box.textContent = "–ó“Ø–≥—ç—ç—Ä —ç—ç üòä –ë–∏ –∑“Ø–≥—ç—ç—Ä –ª —á–∞–º–¥ —Ö—ç–ª–º—ç—ç—Ä –±–∞–π—Å–∞–Ω —é–º: you always make my day. –≠–Ω—ç —Ö“Ø—Ä—Ç—ç–ª —É–Ω—à—Å–∞–Ω–¥ –±–∞—è—Ä–ª–∞–ª–∞–∞ üíñ";
      popHearts(10);
    }

    // ========= SLIDESHOW =========
    function renderSlide(){
      slideImg.style.opacity = 0;
      setTimeout(()=>{
        slideImg.src = slides[slideIndex].src;
        slideCaption.textContent = slides[slideIndex].cap;
        slideImg.style.opacity = 1;
      }, 200);
    }
    function nextSlide(){ slideIndex = (slideIndex+1) % slides.length; renderSlide(); popHearts(4); }
    function prevSlide(){ slideIndex = (slideIndex-1+slides.length) % slides.length; renderSlide(); popHearts(4); }
    setInterval(nextSlide, 4500);

    // JPG toggle (roach)
    function togglejpg(){
      const g = document.getElementById("roachjpg");
      const isHidden = (g.style.display === "none" || !g.style.display);
      g.style.display = isHidden ? "block" : "none";
      if(isHidden){
        showHero("‚ö†Ô∏è WARNING: cockroach mode activated ü™≥üòÇ ");
        popHearts(10);
      }
    }

    // ========= TRAVEL PICKER =========
    function renderTravels(){
      travelGrid.innerHTML = "";
      TRAVELS.forEach(t => {
        const el = document.createElement("div");
        el.className = "travelCard reveal";
        el.innerHTML = `
          <img src="${t.img}" alt="${t.city}" />
          <div class="travelTitle">
            <b>${t.city}</b>
            <span class="tag">${t.country} ‚Ä¢ ${t.tag}</span>
          </div>
          <div class="travelDesc">${t.text}</div>
          <div class="pillRow" style="margin-top:2px;">
            <button class="pill soft" type="button">Choose üíò</button>
            <button class="pill secondary" type="button">Open üñºÔ∏è</button>
          </div>
        `;

        const imgEl = el.querySelector("img");
        const btnChoose = el.querySelectorAll("button")[0];
        const btnOpen = el.querySelectorAll("button")[1];

        imgEl.addEventListener("click", ()=> openModal(`${t.city} ‚ú®`, t.img, t.text));
        btnOpen.addEventListener("click", ()=> openModal(`${t.city} ‚ú®`, t.img, t.text));
        btnChoose.addEventListener("click", ()=> chooseTravel(t.id));

        travelGrid.appendChild(el);
      });

      setupReveal();
    }

    function getTravelName(id){
      const t = TRAVELS.find(x => x.id === id);
      return t ? `${t.city}` : "that city";
    }

    function chooseTravel(id){
      chosenTravelId = id;
      const t = TRAVELS.find(x => x.id === id);
      if(!t) return;
      travelChoice.textContent = `Chosen: ${t.city} üíò ‚Äî ${t.text}`;
      popHearts(14);
      showHero(`–ó–∞ üò≥‚ú® —Ç—ç–≥–≤—ç–ª –Ω—ç–≥ ”©–¥”©—Ä‚Ä¶ ${t.city} —Ä—É—É —Ö–∞–º—Ç –∞—è–ª—ä—è –≥—ç–∂ –±–æ–¥—ä—ë. (–ë–∏ —ç–Ω—ç —Ö—ç—Å–≥–∏–π–≥ –±“Ø—Ä –∏–ª“Ø“Ø –≥–æ—ë –±–æ–ª–≥–æ–Ω–æ!)`);
    }

    // ========= ADVANCED MUSIC =========
    const music = document.getElementById("bgm");
    const playBtn = document.getElementById("playBtn");
    const muteBtn = document.getElementById("muteBtn");
    const vol = document.getElementById("vol");
    const seek = document.getElementById("seek");
    const songState = document.getElementById("songState");
    const timeLabel = document.getElementById("timeLabel");

    let userInteracted = false;
    let isSeeking = false;

    function pad(n){ return String(n).padStart(2,"0"); }
    function fmtTime(sec){
      if(!isFinite(sec)) return "00:00";
      sec = Math.max(0, Math.floor(sec));
      const m = Math.floor(sec/60);
      const s = sec % 60;
      return `${pad(m)}:${pad(s)}`;
    }

    (function restoreMusicPrefs(){
      try{
        const v = localStorage.getItem("bgm_volume");
        if(v !== null) vol.value = v;
        if(music) music.volume = Number(vol.value);

        const t = localStorage.getItem("bgm_time");
        if(t !== null && music) music.currentTime = Number(t);
      }catch(e){}
    })();

    function updateMusicUI(){
      if(!music) return;

      const cur = music.currentTime || 0;
      const dur = music.duration || 0;

      timeLabel.textContent = `${fmtTime(cur)} / ${fmtTime(dur)}`;

      if(!isSeeking && dur > 0){
        seek.value = Math.round((cur / dur) * 1000);
      }

      if(music.paused){
        songState.textContent = "Paused üôÇ";
        playBtn.textContent = "Play ‚ñ∂";
      } else {
        songState.textContent = "Playing üíòüé∂";
        playBtn.textContent = "Pause ‚è∏";
      }

      muteBtn.textContent = music.muted ? "Unmute üîä" : "Mute üîá";
    }

    function fadeTo(target, ms=900){
      if(!music) return;
      const start = music.volume;
      const steps = 24;
      const stepMs = Math.max(10, Math.floor(ms/steps));
      let i = 0;
      const timer = setInterval(()=>{
        i++;
        const v = start + (target - start) * (i/steps);
        music.volume = Math.max(0, Math.min(1, v));
        if(i >= steps) clearInterval(timer);
      }, stepMs);
    }

    function toggleMusic(){
      if(!music) return;
      userInteracted = true;

      if(music.paused){
        const targetVol = Number(vol.value);
        music.volume = 0;
        music.muted = false;

        music.play().then(()=>{
          fadeTo(targetVol, 900);
          popHearts(10);
          updateMusicUI();
        }).catch(()=>{ updateMusicUI(); });
      } else {
        music.pause();
        updateMusicUI();
      }
    }

    function toggleMute(){
      if(!music) return;
      userInteracted = true;
      music.muted = !music.muted;
      updateMusicUI();
    }

    function restartSong(){
      if(!music) return;
      userInteracted = true;
      music.currentTime = 0;
      if(music.paused){
        toggleMusic();
      } else {
        popHearts(6);
        updateMusicUI();
      }
    }

    vol.addEventListener("input", ()=>{
      if(!music) return;
      userInteracted = true;
      music.volume = Number(vol.value);
      try{ localStorage.setItem("bgm_volume", vol.value); }catch(e){}
      updateMusicUI();
    });

    seek.addEventListener("mousedown", ()=>{ isSeeking = true; });
    seek.addEventListener("touchstart", ()=>{ isSeeking = true; }, {passive:true});
    seek.addEventListener("input", ()=>{
      if(!music) return;
      const dur = music.duration || 0;
      if(dur > 0){
        const p = Number(seek.value) / 1000;
        timeLabel.textContent = `${fmtTime(p*dur)} / ${fmtTime(dur)}`;
      }
    });
    seek.addEventListener("change", ()=>{
      if(!music) return;
      userInteracted = true;
      const dur = music.duration || 0;
      if(dur > 0){
        const p = Number(seek.value) / 1000;
        music.currentTime = p * dur;
      }
      isSeeking = false;
      updateMusicUI();
    });
    seek.addEventListener("mouseup", ()=>{ isSeeking = false; });
    seek.addEventListener("touchend", ()=>{ isSeeking = false; });

    if(music){
      music.addEventListener("timeupdate", ()=>{
        updateMusicUI();
        try{ localStorage.setItem("bgm_time", String(music.currentTime || 0)); }catch(e){}
      });
      music.addEventListener("loadedmetadata", updateMusicUI);
      music.addEventListener("play", updateMusicUI);
      music.addEventListener("pause", updateMusicUI);
      music.addEventListener("ended", updateMusicUI);
    }

    window.addEventListener("click", ()=>{
      if(!music || userInteracted) return;
      userInteracted = true;
      const targetVol = Number(vol.value);
      music.volume = 0;
      music.play().then(()=>{
        fadeTo(targetVol, 900);
        updateMusicUI();
      }).catch(()=>{ updateMusicUI(); });
    }, { once:true });

    // ========= INIT =========
    renderTimeline();
    renderTravels();
    renderSlide();
    setTimeout(()=>popHearts(6), 500);
    updateMusicUI();
  </script>
</body>
</html>
